<div class="account-pages pt-sm-3">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6 col-xl-5">
                <div class="text-center mb-4">

                    <h4>Đăng ký</h4>
                    <p class="text-muted mb-4">Tạo tài khoản của bạn ngay bây giờ.</p>

                </div>

                <div class="card">
                    <div class="card-body p-4">
                        <div class="p-3">
                            <form id="registerForm" action="/accounts/verify" _lpchecked="1" method="POST">
                                {{#if error}}
                                <div class="alert alert-danger text-center">{{error}}</div>
                                {{/if}}
                                <div class="mb-3">
                                    <label class="form-label fs-18">Số điện thoại</label>
                                    <div class="input-group bg-soft-light rounded-3  mb-3">
                                        <span class="input-group-text text-muted" id="basic-addon5">
                                            <i class="fal fa-mobile"></i>
                                        </span>
                                        <input type="text" name="phoneNumber"
                                            class="form-control form-control-lg bg-soft-light border-light"
                                            placeholder="Nhập số điện thoại của bạn" name="phone"
                                            aria-label="Nhập số điện thoại của bạn" aria-describedby="basic-addon5"
                                            style="background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAAAXNSR0IArs4c6QAAAPhJREFUOBHlU70KgzAQPlMhEvoQTg6OPoOjT+JWOnRqkUKHgqWP4OQbOPokTk6OTkVULNSLVc62oJmbIdzd95NcuGjX2/3YVI/Ts+t0WLE2ut5xsQ0O+90F6UxFjAI8qNcEGONia08e6MNONYwCS7EQAizLmtGUDEzTBNd1fxsYhjEBnHPQNG3KKTYV34F8ec/zwHEciOMYyrIE3/ehKAqIoggo9inGXKmFXwbyBkmSQJqmUNe15IRhCG3byphitm1/eUzDM4qR0TTNjEixGdAnSi3keS5vSk2UDKqqgizLqB4YzvassiKhGtZ/jDMtLOnHz7TE+yf8BaDZXA509yeBAAAAAElFTkSuQmCC&quot;); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%; cursor: auto;">

                                    </div>
                                </div>

                                <div class="recaptcha-container"></div>

                                <div class="d-grid">
                                    <button class="btn btn-primary waves-effect waves-light" type="submit">Đăng
                                        ký</button>
                                </div>

                                <div class="mt-4 text-center">
                                    <p class="text-muted mb-0">Bằng cách đăng ký, bạn đồng ý với Điều khoản sử
                                        dụng của
                                        App Zalo <a href="#" class="text-primary">Terms of Use</a></p>
                                </div>

                            </form>
                        </div>
                    </div>
                </div>

                <div class="mt-3 text-center">
                    <p>Bạn đã có tài khoản ? <a href="/login-register" class="fw-medium text-primary"> Đăng nhập </a>
                    </p>
                    <p>©
                        <script>document.write(new Date().getFullYear())</script> - App Zalo.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js';
    import {
        getAuth,
        RecaptchaVerifier,
        signInWithPhoneNumber,
    } from 'https://www.gstatic.com/firebasejs/9.1.3/firebase-auth.js';
    const firebaseApp = initializeApp({
        apiKey: 'AIzaSyCMiQ8trT8oDqdY7nTjvintYY_V7h8WF5M',
        authDomain: 'test-authentication-js-e273b.firebaseapp.com',
        projectId: 'test-authentication-js-e273b',
        storageBucket: 'test-authentication-js-e273b.appspot.com',
        messagingSenderId: '678248299679',
        appId: '1:678248299679:web:f28c11bc86d170e08bf6aa',
        measurementId: 'G-YP67FPLW9H',
    });
    const auth = getAuth(firebaseApp);
    // Form register - only form
    const registerForm = document.querySelector('#registerForm');
    showRecaptchaVerifier();
    // Send recaptchaVerifier
    function showRecaptchaVerifier() {
        window.recaptchaVerifier = new RecaptchaVerifier(
            'recaptcha-container',
            {},
            auth
        );
        recaptchaVerifier.render().then((widgetId) => {
            window.recaptchaWidgetId = widgetId;
        });
    }
    registerForm.addEventListener('submit', (e) => {
        const appVerifier = window.recaptchaVerifier;
        console.log('Hihi')
    });

</script>
<!-- end account-pages -->